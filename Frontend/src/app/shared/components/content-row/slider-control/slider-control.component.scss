@use "../../../styles/mixins" as m;
@use "../../../styles/variables" as var;

:host {
  --gap: 5px;
  --visible: 2;
}

:host(.ranked-mode) .slider-item-wrapper {
  aspect-ratio: auto !important;
}

.slider-control {
  position: relative;
  @include m.center;
  width: 100%;
  padding: 0 4%;
  .slider-content {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: calc(100% / var(--visible));
    transition: transform 0.5s ease-in-out;
    &.no-transition {
      transition: none;
    }
    .slider-item-wrapper {
      aspect-ratio: 16 / 9;
    }
  }
  .nav {
    position: absolute;
    @include m.center;
    top: 0;
    bottom: 0;
    width: 3.8%;
    background: hsla(0, 0%, 8%, 0.5);
    border: none;
    transition:
      opacity 0.3s ease-in-out,
      background 0.3s;
    z-index: 20;
    transform: translateZ(0);
    cursor: pointer;
    span {
      color: var.$white;
      font-size: 2.5vw;
      transition: transform 0.1s ease-out 0s;
      opacity: 0;
    }
    &.prev {
      border-bottom-right-radius: 4px;
      border-top-right-radius: 4px;
      left: 0%;
    }
    &.next {
      border-bottom-left-radius: 4px;
      border-top-left-radius: 4px;
      right: 0%;
    }
    &:hover {
      background: hsla(0, 0%, 8%, 0.7);
      span {
        font-weight: 500;
        transform: scale(1.25);
      }
    }
  }
  &:hover {
    .nav {
      span {
        opacity: 1;
      }
    }
  }
}

@media (max-width: 500px) {
  :host:not(.ranked-mode) {
    --visible: 3;
  }
  :host(.ranked-mode) .slider-item-wrapper {
    aspect-ratio: 1/1 !important;
  }
  .slider-control {
    .nav {
      display: none;
    }
    .slider-content {
      grid-column-gap: 0.5em;
      overflow-x: auto;
      overflow-y: hidden;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      transform: none;
      transition: none;
      scrollbar-width: none;
      -ms-overflow-style: none;
      &::-webkit-scrollbar {
        display: none;
      }
      .slider-item-wrapper {
        scroll-snap-align: start;
        aspect-ratio: 16/20;
      }
    }
  }
}

@media (min-width: 500px) {
  :host {
    --visible: 3;
  }
}

@media (min-width: 800px) {
  :host {
    --visible: 4;
  }
}

@media (min-width: 1100px) {
  :host {
    --visible: 5;
  }
}

@media (min-width: 1400px) {
  :host {
    --visible: 6;
  }
}
